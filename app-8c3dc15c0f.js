Number.isNaN=Number.isNaN||function(e){return e!=e},window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)}),"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach(function(e){e.hasOwnProperty("append")||Object.defineProperty(e,"append",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),n=document.createDocumentFragment();e.forEach(function(e){var t=e instanceof Node;n.appendChild(t?e:document.createTextNode(String(e)))}),this.appendChild(n)}})}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},writable:!0,configurable:!0}),Array.from||(Array.from=function(){function u(e){return"function"==typeof e||"[object Function]"===t.call(e)}function d(e){var t,n=(t=Number(e),isNaN(t)?0:0!==t&&isFinite(t)?(0<t?1:-1)*Math.floor(Math.abs(t)):t);return Math.min(Math.max(n,0),i)}var t=Object.prototype.toString,i=Math.pow(2,53)-1;return function(e,t,n){var i=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var a,o=1<arguments.length?t:void 0;if(void 0!==o){if(!u(o))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(a=n)}for(var r,s=d(i.length),l=u(this)?Object(new this(s)):new Array(s),c=0;c<s;)r=i[c],l[c]=o?void 0===a?o(r,c):o.call(a,r,c):r,c+=1;return l.length=s,l}}()),function(e){$("[data-js=gtm-init]").load("/"+e+"/user/gtm")}(window.blizzard.urlLocale),function(e){var t;(t=e).app=t.app||new function(){this.extend=function(e){_.merge(this,e)}}}(this),function(e){function t(){this.extend=function(e){_.merge(this,e)}}var n;(n=e).overwatch=n.overwatch instanceof t?n.overwatch:new t}(this),function(e){var s,t;(t=(s=e).overwatch).extend({util:new function(){var r=this,e=s.document,t=s.document.body;this.width=function(){return s.innerWidth||e.documentElement.clientWidth||t.clientWidth},this.height=function(){return s.innerHeight||e.documentElement.clientHeight||t.clientHeight},this.sizesArray=[{name:"xs",min:0,max:400},{name:"sm",min:400,max:768},{name:"md",min:768,max:992},{name:"lg",min:992,max:1279},{name:"xl",min:1280,max:1600},{name:"xxl",min:1600,max:1/0}],this.evaluateSize=function(e){var t=r.width();return t>=e.min&&t<e.max},this.sizes=function(){return r.sizesArray.reduce(function(e,t){return e[t.name]=r.evaluateSize(t),e},{})},this.mobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobi/i.test(window.navigator.userAgent)},this.touch=function(){return"ontouchstart"in window||0<window.navigator.MaxTouchPoints||0<window.navigator.msMaxTouchPoints},this.vendor=function(){var n=null,i=e.documentElement.style;return _.each(["webkit","Moz","ms","O"],function(e,t){void 0!==i[e+"Transform"]&&(n=e)}),n},this.size=function(){var n=null;return _.each(r.sizes(),function(e,t){e&&(n=t)}),n},this.isSizeAtLeast=function(e){var t=_.find(r.sizesArray,{name:e});return r.width()>=t.min},this.ie=function(){var e=s.navigator.userAgent,t=/MSIE \d/.test(e),n=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.test(e);return t||n},this.browser=function(){var e=s.navigator.userAgent,t=s.navigator.vendor,n=/gecko\/\d/i.test(e),i=/Chrome\//.test(e),a=/Apple Computer/.test(t),o=/Edge/.test(e);return{ie:r.ie(),gecko:n,chrome:i,safari:a,edge:o}},this.posX=function(){return s.pageXOffset||s.scrollX||t.scrollLeft||e.documentElement.scrollLeft},this.posY=function(){return s.pageYOffset||s.scrollY||t.scrollTop||e.documentElement.scrollTop},this.scroll=function(){return t.scrollHeight>t.clientHeight&&"fixed"!==t.style.position},this.vw=function(e){return r.width()/100*e},this.vh=function(e){return r.height()/100*e},this.addLoadEvent=function(e){var t=window.onload;"function"!=typeof window.onload?window.onload=e:window.onload=function(){t(),e()}},this.debounce=function(i,a,o){var r;return function(){var e=this,t=arguments,n=o&&!r;clearTimeout(r),r=setTimeout(function(){r=null,o||i.apply(e,t)},a),n&&i.apply(e,t)}},this.clamp=function(e,t,n){return e<=t?t:n<=e?n:e}}}),t.utils=t.utils||t.util}(this),function(e){var t,n,i;try{t=e.localStorage}catch(e){t=null,console.log(e,"localStorage unavaliable")}n=e.overwatch,i=t,n.extend({storage:new function(){var n=this;this.available=function(){return!!i},this.set=function(e,t){n.available()?i.setItem(e,JSON.stringify(t)):console.log("storage.set failed, localStorage unavaliable")},this.get=function(e){if(n.available())return JSON.parse(i.getItem(e));console.log("storage.get failed, localStorage unavaliable")},this.remove=function(e){n.available()?i.removeItem(e):console.log("storage.remove failed, localStorage unavaliable")},this.clear=function(){n.available()?i.clear():console.log("storage.clear failed, localStorage unavaliable")}}}),n.storage}(this),function(e){var l,c;(c=(l=e).overwatch).extend({blackout:new function(){var t=this,e=(c.util,0),n=0,i=$(l),a=$("body"),o=$('<div class="blackout" blackout />').appendTo(a);function r(){n||(n=1,o.trigger("show"),o.toggleClass("open",!0),o.on("click.blackout",function(e){e.stopPropagation(),t.hide()}),e=i.scrollTop(),a.css({overflow:"hidden"}))}function s(){n&&(n=0,o.trigger("hide"),o.toggleClass("open",!1),a.css({overflow:""}),i.scrollTop(e),o.off("click.blackout"),e=0)}this.show=r,this.hide=s,this.open=r,this.close=s,this.on=function(){o.on.apply(o,arguments)},this.off=function(){o.off.apply(o,arguments)},this.one=function(){o.one.apply(o,arguments)}}}),c.blackout}(this),function(e){function n(){var e;a||o||r||(o=1,(e=$("<script>",{attr:{async:!0,src:v,type:"text/javascript"}})[0]).onerror=function(){a=0,r=1,function(){for(var e=0;e<h.length;e++)h[e]();h=[]}()},window.onYouTubeIframeAPIReady=function(){a=1,o=0,function(){for(var e=0;e<s.length;e++)s[e]();s=[]}()},document.body.appendChild(e))}function l(e,t){t=t||_.noop,e=e||_.noop;r?t():a?e():o?(s.push(e),h.push(t)):(s.push(e),h.push(t),n())}function i(n,t){var e,i=this,t=t||_.noop,n=_.merge({},f,n),a=u++,o={},r=$(n.elem),s=null;this.id=n.id,this.loaded=0,this.loading=1,this.state=s,this.uid=a,this.opts=n,this.$root=r,this.destroy=function(){r.toggleClass(s,!1),i.player.stopVideo&&i.player.stopVideo(),i.player.clearVideo&&i.player.clearVideo(),i.player.destroy&&i.player.destroy(),i.player=null,i.$root.empty(),d[a]=null},this.elems=o,this.on=function(){r.on.apply(r,arguments)},this.off=function(){r.off.apply(r,arguments)},this.one=function(){r.one.apply(r,arguments)},e=c.browser(),r.toggleClass("loading",!0),r.toggleClass("unstarted",!0),r.toggleClass("m-mobile",c.mobile()),r.toggleClass("m-touch",c.touch()),r.toggleClass("m-edge",e.edge),r.toggleClass("m-ie",e.ie),r.toggleClass("m-chrome",e.chrome),r.toggleClass("m-safari",e.safari),r.toggleClass("m-gecko",e.gecko),_.each(n.build,function(e,t){e&&r.append(o[t]=n.templates[t].call(i))}),l(function(){i.player=new YT.Player(o.$video[0],{events:{onReady:function(e){i.loaded=1,i.loading=0,r.toggleClass("loading",!1),r.trigger("ready"),t(i)},onStateChange:function(e){var t=n.states[e.data];s&&r.toggleClass(s,!1),r.toggleClass(t,!0),r.trigger("stateChange",t),i.state=s=t}}})}),o.$video.on("load",function(){r.toggleClass("loading",!1)}),d[a]=i}var t,c,u,d,a,o,r,s,h,v,p,f;t=e.overwatch,c=t.util,d={},s=[],h=[],v="//www.youtube.com/iframe_api/",p="https://www.youtube.com/embed/",f={id:null,states:{"-1":"unstarted",0:"ended",1:"playing",2:"paused",3:"buffering",5:"video-cued"},params:{autoplay:1,autohide:1,controls:1,modestbranding:1,showinfo:1,version:3,enablejsapi:1,wmode:"transparent",rel:r=o=a=u=0},build:{$play:!0,$poster:!0,$video:!0},templates:{$play:function(){var e=this;return $("<div>",{addClass:"play",on:{click:function(){e.loaded?e.player.playVideo():e.one("ready",function(){e.player.playVideo()})}}})},$poster:function(){return $('<div class="poster">')},$video:function(){return $("<iframe>",{addClass:"video",attr:{width:"100%",height:"100%",allowfullscreen:!0,allow:"autoplay",frameborder:0,src:p+this.id+"?"+$.param(this.opts.params)}})}}},l(),t.extend({video:new function(){function t(e,t){return new i(e,t)}this.create=t,this.destroy=function(e){if(e.destroy)return e.destroy()},this.createAll=function(e){$("[video]").each(function(){t({elem:this,id:$(this).attr("video")},e)})},this.get=function(e){return d[e]},this.set=function(e){return _.merge(f,e)}}}),t.video}(this),function(e,t){"function"==typeof define&&define.amd?define("overwatch-ability-showcase",["overwatch","jQuery"],t):"object"==typeof exports?module.exports=t(require("overwatch","jQuery")):e.overwatch.AbilityShowcase=t(e.overwatch,e.jQuery)}(this,function(e,i){var n="[data-js=progress-svg]",a="is-active";function t(e){var t,n=i(e);this.$videos=n.find("video"),this.videos=this.$videos.get(),this.$abilityName=n.find("[data-js=abilityName]"),this.$abilityButtons=n.find("[data-js=abilityShowcaseButton]"),this.$abilityButtonsList=n.find("[data-js=ability-button-list]"),this.$currentProgressSvg=null,this.currentVideo=null,this.abilities=(t=this.$abilityButtons,i.map(t,function(e){return{name:i(e).data("ability-name")}})),this.length=this.videos.length,this.currentIndex=0,this.nextIndex=null}return t.prototype.init=function(){var t=this;t.$videos.on("ended",function(){t.play(t.getNextIndex())}),t.$videos.on("playing",function(){var e=1e3*t.currentVideo.duration;t.$currentProgressSvg.velocity({strokeDashoffset:[0,314]},e,"linear")}),t.$videos.on("timeupdate",function(){var e;null===t.nextIndex&&1<t.length&&.5<(e=this).currentTime/e.duration&&t.queue(t.getNextIndex())}),t.$abilityButtonsList.on("click","li",function(){var e=i(this).index();t.play(e)}),t.load(t.currentIndex),t.play(t.currentIndex)},t.prototype.getNextIndex=function(){return null!==this.nextIndex?this.nextIndex:this.currentIndex+1},t.prototype.displayPlay=function(e){e%=this.length;var t=this.abilities[e];this.$abilityName.text(t.name),this.$abilityButtons.eq(e).addClass(a),this.$videos.eq(e).addClass(a),this.currentVideo=this.videos[e],this.$currentProgressSvg=this.$abilityButtons.eq(e).find(n)},t.prototype.displayStop=function(e){e%=this.length,this.$abilityButtons.eq(e).removeClass(a),this.$videos.eq(e).removeClass(a),this.$abilityButtons.eq(e).find(n).velocity("stop").velocity({strokeDashoffset:314},0)},t.prototype.play=function(e){this.stop(this.currentIndex),this.currentIndex=void 0===e?this.currentIndex:e%this.length,this.reset(this.currentIndex),this._play(this.currentIndex),this.nextIndex=null},t.prototype.stop=function(e){void 0!==e?(e%=this.length,this.videos[e].pause(),this.displayStop(e)):this._stopAll()},t.prototype.reset=function(e){e%=this.length,4===this.videos[e].readyState&&(this.videos[e].currentTime=0)},t.prototype.queue=function(e){null===this.nextIndex&&(e%=this.length,this.nextIndex=e,this.load(e))},t.prototype.load=function(e){e%=this.length,this.videos[e].load()},t.prototype._play=function(e){e%=this.length,this.videos[e].play(),this.displayPlay(e)},t.prototype._stopAll=function(){for(var e=0;e<this.length;e++)this.stop(e)},e.extend({AbilityShowcase:t}),t}),function(e){var t;(t=e.overwatch).extend({animate:new function(){this.slideInLeft=function(e,t){t=_.merge({duration:300,easing:"easeOutCirc"},t),e.velocity({translateX:["+=100%","-100%"],translateZ:0},t)},this.slideOutLeft=function(e,t){t=_.merge({duration:300,easing:"easeOutCirc"},t),e.velocity({translateX:["-=100%",0],translateZ:0},t)}}}),t.animate}(this),function(){var t=window.$;t(".js-button-group").on("click",".button",function(e){t(this).siblings().removeClass("is-active"),t(this).addClass("is-active")})}(),function(e){function l(e,r,s){return function(e){var t,n,i,a=r.filter("."+d.ACTIVE_STATE),o=u(this);return r.removeClass(d.ACTIVE_STATE),r.removeClass(d.ANIMATION_COMPLETE),o.removeClass(d.PRE_ACTIVE_STATE),o.addClass(d.ACTIVE_STATE),a.addClass(d.PREVIOUS_ACTIVE),t=a,n=o,(i=s).beforeFadeOut(t,n,v),i.fadeOut(t.find(".CarouselSplit-transparentContent")).then(function(){i.beforeResize(t,n,v),i.shrink(t)}).then(function(){return e=o,t=a,(n=s).grow(e).then(function(){return n.afterResize(t,e,v),n.fadeIn(e.find(".CarouselSplit-transparentContent"))}).then(function(){n.afterFadeIn(t,e,v)});var e,t,n}).then(function(){a.removeClass(d.PREVIOUS_ACTIVE),o.addClass(d.ANIMATION_COMPLETE)})}}function c(e){var t=u(this);clearTimeout(t.data("hover-intent-timeout-id")),t.removeClass(d.PRE_ACTIVE_STATE)}var t,u,d,h,v,n;e.overwatch.CarouselSplit=(t=e.overwatch,u=e.jQuery,d={CAROUSEL:"CarouselSplit",CAROUSEL_SLANTED_MODIFIER:"CarouselSplit--slanted",CAROUSEL_ITEM:"CarouselSplit-item",ACTIVE_STATE:"is-active",PREVIOUS_ACTIVE:"was-active",PRE_ACTIVE_STATE:"is-pre-active",ANIMATION_COMPLETE:"is-animation-complete"},h={CAROUSEL:"[data-js-carousel-split]",CAROUSEL_ITEM:".CarouselSplit-item",CAROUSEL_ITEM_INACTIVE:".CarouselSplit-item:not(.is-active)"},v={FADE:100,RESIZE:350,DELAY:0,HOVER_DELAY_FAST:200,HOVER_DELAY_SLOW:300},n={beforeFadeOut:_.noop,beforeResize:_.noop,afterFadeIn:_.noop,afterResize:_.noop,fadeOut:function(e){return u.Velocity.animate(e,{opacity:0},{duration:v.FADE,delay:v.DELAY})},fadeIn:function(e){return u.Velocity.animate(e,{opacity:1},{duration:v.FADE})},shrink:function(e){return u.Velocity.animate(e,{flexGrow:1},{duration:v.RESIZE,delay:50,easing:"easeInOutCubic"})},grow:function(e){return u.Velocity.animate(e,{flexGrow:4},{duration:v.RESIZE,delay:50,easing:"easeInOutCubic"})},delaySlow:!1},{init:function(o){o=_.merge(n,o);var e=u(h.CAROUSEL),r=t.util.touch(),s=r?"click":"mouseenter";e.each(function(e,t){var n=u(t),i=n.find(h.CAROUSEL_ITEM),a=(r?l:function(e,i,a){var o=l(0,i,a),r=Promise.resolve();return function(){var e=u(this),t=o.bind(this);i.removeClass(d.PRE_ACTIVE_STATE),e.addClass(d.PRE_ACTIVE_STATE);var n=setTimeout(function(){r=r.then(t)},a.delaySlow?v.HOVER_DELAY_SLOW:v.HOVER_DELAY_FAST);e.data("hover-intent-timeout-id",n)}})(n,i,o);n.on(s,h.CAROUSEL_ITEM_INACTIVE,a),r||n.on("mouseleave",h.CAROUSEL_ITEM_INACTIVE,c)})}})}(this),function(e){var a,t,n;a=e.jQuery,t=e.overwatch,n={defaults:{numToShow:1,numToSlide:1,animationDuration:500,autoScroll:!1,timePerSlide:5e3,loop:!0,pagination:!0,slideWidth:0,gutter:12},item_width:0,klass:"carousel",mask_klass:"carousel-mask",wrapper_klass:"carousel-wrapper",slide_klass:"carouse-slide",pagination_klass:"carousel-pagination",page_klass:"carousel-page",init:function(e,t){this.options=_.merge({},this.defaults,t);t=this.options;this.element=e,this.setup(),this.calculateDimensions(),this.addElements(),this.setupEvents(),t.autoScroll&&this.startSliding()},setup:function(){var e=this.options;this.element.addClass(this.klass),this.defineObjects(),e.pagination&&(this.pagination=this.buildPagination()),e.slideWidth&&(this.item_width=e.slideWidth)},defineObjects:function(){var e=this.options;this.wrapper=this.element.children("ul").addClass(this.wrapper_klass),this.items=this.wrapper.children("li"),this.pages=Math.ceil(this.items.length/e.numToSlide),this.mask=a("<div/>").addClass(this.mask_klass),this.duration=e.animationDuration},buildPagination:function(){for(var e=this.options,t=1,n=a("<ul/>").attr("class",this.pagination_klass),i="";t<=this.pages-(e.numToShow-e.numToSlide);)i+='<li class="'+this.page_klass,1===t&&(i+=" is-active"),i+='" data-page="'+t+'"',i+=">&nbsp</li>",t++;return n.html(i),n},calculateDimensions:function(){var e=this.options;this.items.addClass(this.slide_klass),1===e.numToShow?this.items.css("margin",0):this.items.css("margin","0 "+e.gutter+"px"),0===this.item_width&&(this.item_width=this.items.first().outerWidth(!0)),this.maxHeight=this.items.first().outerHeight(!0),this.mask.css({width:this.item_width*e.numToShow,height:this.maxHeight}),this.wrapper.css("width",this.item_width*this.items.length)},addElements:function(){var e=this.options;this.mask=this.wrapper.wrap(this.mask).parent(),e.pagination&&this.element.append(this.pagination)},setupEvents:function(){this.element.on("click","."+this.page_klass,{self:this},this.pageHandler)},pageHandler:function(e){var t=e.data.self,n=a(this);t.options;e.preventDefault(),t.gotoPage=n.data("page"),t.slide()},slide:function(e,t){var n=this;this.stopSliding(),e&&"number"==typeof e&&(this.gotoPage=e),"number"==typeof t&&(this.duration=t),this.slideAmount=this.getSlideAmount(),this.wrapper.velocity({left:this.slideAmount},this.duration,function(){n.callback()})},callback:function(){var e,t,n=this.options;n.pagination&&((e=this.pagination.find("li")).removeClass("is-active"),t=e.get(this.gotoPage-1),a(t).addClass("is-active")),this.duration=n.animationDuration},getSlideAmount:function(){var e=this.options;return-(this.item_width*e.numToSlide*(this.gotoPage-1))},startSliding:function(e){var t=this,n=t.options;e&&"number"==typeof e&&(n.timePerSlide=e),this.interval=setInterval(function(){t.gotoPage++,t.slide()},n.timePerSlide)},stopSliding:function(){clearInterval(this.interval)}},t.extend({carousel:n})}(this),jQuery,$.fn.dropdown=function(){return this.each(function(){var e,t,n=this,i=$(n),a=$("<div />",{class:"dropdown",style:"width:"+i.outerWidth()+"px"}),o=i.attr("class")?i.attr("class").replace("dropdown-select-element",""):"";a.addClass(o),i.removeClass(o),a=i.wrap(a).parent(),t=$("option:selected",n).text(),e=$("<span />",{class:"dropdown-text",text:t}).prependTo(a),i.addClass("dropdown-select-element"),i.css("height",a.outerHeight()),i.on("change",function(){t=$("option:selected",n).text(),e.text(t)})})},function(e){var a,t,o,n;a=e.jQuery,t=e.overwatch,o=[],n={init:function(){this.elements=a('[data-js="endorsement-border"]');var i=this;this.elements.each(function(e){var t=parseFloat(a(this).data("value")),n=a(this).data("id");o[e]={},o[e].id=n,o[e].value=t,o[e].transform=0===e?0:i.getTransform(o[e-1].value,o[e-1].transform),a(this).css({"stroke-dasharray":i.getDashArray(t)+" 100",transform:"rotate("+o[e].transform+"deg)"})})},getDashArray:function(e){return 100*e-1},getTransform:function(e,t){return 360*e+(t=t||0)}},t.extend({endorsementIcon:n})}(this),function(e){var o,r,s;e.overwatch.EventMapCarousel=(e.overwatch,o=e.jQuery,r={CAROUSEL:"EventMapCarousel",CAROUSEL_SLANTED_MODIFIER:"EventMapCarousel--slanted",CAROUSEL_ITEM:"EventMapCarousel-item",HIGHLIGHT_MODIFIER:"EventMapCarousel-item--highlighted"},s={CAROUSEL:"[data-js-carousel-split]",CAROUSEL_ITEM:".EventMapCarousel-item"},{init:function(){o(s.CAROUSEL).each(function(e,t){var n,i=o(t),a=i.find(s.CAROUSEL_ITEM);i.on("mouseenter click",s.CAROUSEL_ITEM,(n=a,function(e){n.removeClass(r.HIGHLIGHT_MODIFIER),o(this).addClass(r.HIGHLIGHT_MODIFIER)}))})}})}(this),function(e,t){"function"==typeof define&&define.amd?define("overwatch-hero-selector",["overwatch","Shuffle"],t):"object"==typeof exports?module.exports=t(require("overwatch","Shuffle")):e.overwatch.HeroSelector=t(e.overwatch,e.jQuery,e.Shuffle)}(this,function(e,t,i){function n(){this.init=function(e){var n=this;n.$grid=e.$container,n.$navigationLinks=e.$navigationLinks,n.itemSelector=e.itemSelector,n.shuffleInstance=new i(n.$grid,{itemSelector:n.itemSelector,speed:200,staggerAmount:0,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)"});for(var t=0;t<n.$navigationLinks.length;t++){n.$navigationLinks[t].addEventListener("click",function(e){var t=e.currentTarget.getAttribute("data-filter-key");n.filter(t)},!0)}}}return n.prototype.filter=function(a){window.location.hash=a.toLowerCase();for(var e=0;e<this.$navigationLinks.length;e++){var t=this.$navigationLinks[e];t.getAttribute("data-filter-key")===a?t.parentNode.classList.add("active"):t.parentNode.classList.remove("active")}for(var n=document.querySelectorAll(this.itemSelector),e=0;e<n.length;e++){var i=n[e],o=i.childNodes[0];"all"===a?(o.classList.remove("m-subdued"),o.classList.remove("m-selected")):JSON.parse(i.getAttribute("data-groups"))[0]===a?(o.classList.remove("m-subdued"),o.classList.add("m-selected")):(o.classList.remove("m-selected"),o.classList.add("m-subdued"))}this.shuffleInstance.sort({compare:function(e,t){var n=JSON.parse(e.element.getAttribute("data-groups"))[0],i=JSON.parse(t.element.getAttribute("data-groups"))[0];return n===a&&i!==a?-1:i===a&&n!==a?1:parseInt(e.element.getAttribute("data-order"),10)-parseInt(t.element.getAttribute("data-order"),10)}})},new n}),function(e){var a,t,n;a=e.jQuery,t=e.overwatch,n={init:function(){this.showNotificitions(),this.setupDismissmal()},showNotificitions:function(){a("[data-js=notification]").each(function(){var e=a(this).data("id");0<=document.cookie.indexOf(e+"=dismissed")||a(this).show()})},setupDismissmal:function(){a("[data-js=notification-dismiss]").on("click",function(e){var t=a(this).closest("[data-js=notification]").hide().data("id"),n=new Date,i=new Date(n.setDate(n.getDate()+30));document.cookie=t+"=dismissed; expires="+i})}},t.extend({notification:n})}(this),function(e,t){"function"==typeof define&&define.amd?define("overwatch-progress",["overwatch","jQuery"],t):"object"==typeof exports?module.exports=t(require("overwatch","jQuery")):e.overwatch.Progress=t(e.overwatch,e.jQuery)}(this,function(e,a){a("[data-js=progressBar]").each(function(e,t){var n=a(t),i=100*(1-parseFloat(n.data("overwatch-progress-percent")))+"%";"0%"===i&&(i=0),n.hasClass("m-animated")?n.find("[data-js=bar]").velocity({right:i},{easing:"ease",duration:2e3}):n.find("[data-js=bar]").css("right",i)})}),function(e){var r,t,n;r=e.jQuery,t=e.overwatch,n={cache:{},init:function(){var i=this,e=r('[data-js="slideout-container"]');this.slideoutHandles=r('[data-js="slideout-handle"]'),e.each(function(){var e=r(this);i.cache[e.data("slideoutId")]={element:e},e.addClass("Slideout-container Slideout-container--noTransition"),e.removeClass("Slideout-container--noTransition")}),this.slideoutHandles.each(function(){var e=r(this),t=e.text(),n=i.cache[e.data("slideoutId")];n.openPrompt=t,n.closePrompt=e.data("slideoutCloseText")}),this.setupEventHandlers()},setupClickEventHandler:function(){var o=this;this.slideoutHandles.on("click",function(e){e.preventDefault();var t=r(this),n=t.hasClass("is-active"),i=t.data("slideoutId"),a=o.cache[t.data("slideoutId")];t.toggleClass("is-active"),n?(a.closePrompt&&t.text(o.cache[i].openPrompt),o.closeSlideout(i)):(a.closePrompt&&t.text(o.cache[i].closePrompt),o.openSlideout(i))})},setupResizeEventHandler:function(){var e=this;r(window).on("resize",t.util.debounce(function(){for(key in e.cache)e.cache[key].element.hasClass("is-open")&&e.updateSlideoutHeight(key)}))},setupEventHandlers:function(){this.setupClickEventHandler(),this.setupResizeEventHandler()},openSlideout:function(t){r('[data-js="slideout-handle"][data-slideout-id="'+t+'"]').addClass("is-active");var e=this.cache[t].element;e.addClass("is-open"),e.one("transitionend",function(e){r(document.body).trigger("slideout:open",{event:e,id:t})}),this.updateSlideoutHeight(t)},closeSlideout:function(t){r('[data-js="slideout-handle"][data-slideout-id="'+t+'"]').removeClass("is-active");var e=this.cache[t].element;e.removeClass("is-open"),e.one("transitionend",function(e){r(document.body).trigger("slideout:close",{event:e,id:t})}),e.css("maxHeight","")},updateSlideoutHeight:function(e){var t=this.cache[e].element,n=t.get(0).scrollHeight;t.css("maxHeight",n)}},t.extend({slideout:n})}(this),function(e){function t(e,t){this.$spotlight=e,this.id=this.$spotlight.getAttribute("data-id"),this.$spotlightList=document.querySelector('[data-js="'+r+'"][data-id="'+this.id+'"]'),this.$image=this.$spotlight.querySelector('[data-js="'+a+'"]'),this.$header=this.$spotlight.querySelector('[data-js="'+i+'"]'),this.$caption=this.$spotlight.querySelector('[data-js="'+o+'"]'),this.$activators=this.$spotlightList.querySelectorAll('[data-js="'+s+'"]'),this.id||console.warn(this.$spotlight+" is missing an id. Please add the data-id attribute to the splotlight-list and spotlight"),this.$header||console.warn("Spotlight could not find a header element inside: "+e),this.$image||console.warn("Spotlight could not find a holder element inside: "+e),this.preselectSpotlight(this.$spotlightList);var n=c.mobile()&&c.touch();!t&&n||this.setupEventHandlers()}var n,i,a,o,r,s,l,c,u;n=e.overwatch,e.jQuery,i="spotlight-header",a="spotlight-image",o="spotlight-caption",r="spotlight-list",s="spotlight-activator",l="is-active",c=n.util,u=!1,t.prototype.preloadSpotlightImages=function(){for(var e=0;e<this.$activators.length;e++){var t=this.$activators[e],n=encodeURI(t.getAttribute("data-"+a));(new Image).src=n}},t.prototype.preselectSpotlight=function(e){var t=e.querySelector("[data-js="+s+"].is-active");this.loadData(t)},t.prototype.setupEventHandlers=function(){for(var i=this,t=0;t<i.$activators.length;t++)!function(){var n=i.$activators[t];function e(e){var t=n.parentNode.querySelector("."+l);t&&t.classList.remove(l),n.classList.add(l),i.loadData(n),u||i.preloadSpotlightImages(),u=!0}n.addEventListener("mouseover",e,!0),n.addEventListener("focus",e,!0)}()},t.prototype.paragraphs=function(e,t,n){n=n||/<br ?\/?>/gi;for(var i="",a=e.split(n),o=0;o<a.length;o++){var r=a[o];i+=t?"<p>"+window.unescape(r)+"</p>":"<p>"+r+"</p>"}return i},t.prototype.setHeader=function(e){this.$header.textContent=e},t.prototype.setCaption=function(e){this.$caption.innerHTML=this.paragraphs(e)},t.prototype.loadData=function(e){var t=e.getAttribute("data-spotlight-image"),t=encodeURI(t),n=e.getAttribute("data-spotlight-header"),i=e.getAttribute("data-spotlight-caption");this._setImage(t),this.setHeader(n),this.setCaption(i)},t.prototype._setImage=function(e,t){this.$image.style.backgroundImage="url("+encodeURI(e)+")","function"==typeof t&&t()},t.prototype._startTransition=function(e){this.$spotlight.velocity("stop").velocity({opacity:0},{duration:100,easing:"easeOutQuad",complete:function(){"function"==typeof e&&e()}})},t.prototype._endTransition=function(e){this.$spotlight.velocity({opacity:[1,0]},{duration:100,easing:"easeOutQuad",complete:function(){"function"==typeof e&&e()}})},n.extend({Spotlight:t})}(this),function(e){var g;(g=e.overwatch).extend({Tag:function(e,t,n){var i=this,l={},a={},o=g.storage;function r(){return this.exec<1}function c(e){return e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})}function u(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function s(){return["tags",c(e)].join(".")}function d(){return o.get(s())||{}}function h(){for(var e,t=d(),n=Object.keys(l),i=0;i<n.length;i++){var a=l[n[i]];t[n[i]]={created:(e=a).created,exec:e.exec}}o.set(s(),t)}function v(e){var t,e=c(e),n=l[e],i=a[e];((t=n).rule||r).call(t)&&(i.call(n,n.$elem,n.exec,n.created),n.exec++,h())}function p(e){for(var t,n=document.querySelectorAll("["+u(e)+"]"),i=d(),a=0;a<n.length;a++){var o=n[a],r=o.getAttribute(u(e)),s=i[c(r)];l[c(r)]=(t=s,{$elem:$(o),created:t&&t.created||(new Date).getTime(),exec:t&&t.exec||0})}}function f(e){for(var t=Object.keys(e),n=0;n<t.length;n++)!function(e,t){var e=c(e),n=l[e];n&&t.rule&&(n.rule=t.rule),n&&t.callback&&(a[e]=t.callback,n.trigger=function(){v(e)},n.trigger())}(t[n],e[t[n]])}function m(e){e instanceof Function&&(r=e)}n&&n.clearStorage&&o.remove(s()),n&&n.defaultRule&&m(n.defaultRule),p(e),f(t),g.tags||(g.tags={}),(g.tags[c(e)]=i).cache=l,i.add=f,i.trigger=v,i.setDefaultRule=m,h()}}),g.Tag}(this),function(e){var t,o,n,i;t=e.overwatch,o=t.utils,n=$(window),i={activeHandle:null,init:function(){this.generateTooltip(),this.setupEvents()},generateTooltip:function(){this.tooltip=$('<div id="tooltip" class="Tooltip"><div class="Tooltip-arrow"></div><div class="Tooltip-body"></div></div>'),this.tooltip.appendTo($(document.body)),this.tooltipText=this.tooltip.find(".Tooltip-body"),this.tooltipArrow=this.tooltip.find(".Tooltip-arrow")},setupEvents:function(){var i=this;$("[data-tooltip]").on("click",function(e){var t=$(this);i.activeHandle=t;var n=$("#"+t.data("tooltip")).html();i.populateTooltip(n),i.tooltip.show(),i.positionTooltip()}),$(document.body).on("click",function(e){0===$(e.target).closest("[data-tooltip]").length&&i.tooltip.hide()}),n.resize(_.debounce(function(){i.activeHandle&&i.positionTooltip()},500))},getHandleInfo:function(){var e=this.activeHandle.offset();return{left:e.left,top:e.top,width:this.activeHandle.outerWidth(),height:this.activeHandle.outerHeight()}},getTooltipSize:function(){return{width:this.tooltip.outerWidth(),height:this.tooltip.outerHeight()+this.tooltipArrow.outerHeight()/2}},getLeftPosition:function(e,t){var n=$(document.body).outerWidth()-t.width,i=e.left+e.width/2-t.width/2,a=o.clamp(i,0,n);return this.tooltipOffset=i-a,a},getTopPosition:function(e,t){return n.scrollTop()+n.height()/2<e.top+e.height/2?e.top-t.height:e.top+e.height},positionTooltip:function(){this.tooltip.css({left:0,top:0});var e=this.getHandleInfo(),t=this.getTooltipSize();this.tooltip.css({left:this.getLeftPosition(e,t),top:e.top-t.height}),this.positionTooltipArrow()},positionTooltipArrow:function(){var e=0===this.tooltipOffset?"50%":"calc(50% + "+this.tooltipOffset+"px)";this.tooltipArrow.css({left:e})},populateTooltip:function(e){this.tooltipText.html(e)}},t.extend({tooltip:i}),t.tooltip}(this),function(e){var t;(t=e.overwatch).extend({waypoint:new function(){}}),t.waypoint}(this),function(e){function o(e,t,n){return(e-t)/(n-t)}function r(e,t,n){return(n-t)*e+t}var t;(t=e.app).extend({mathUtil:{norm:o,lerp:r,mapLerp:function(e,t,n,i,a){return r(o(e,t,n),i,a)},getRelativeValuesForAnElement:function(e){var t=e.outerHeight(),n=e.offset().top,i=n+t;return{sourceMin:n-overwatch.util.height(),sourceMax:i,destMin:0,destMax:t}}}}),t.mathUtil}(this),function(e){var u,n;u=e.app,n=/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,u.extend({util:new function(){this.shuffleArray=function(e){for(var t,n,i=e.length;0!==i;)n=Math.floor(Math.random()*i),t=e[--i],e[i]=e[n],e[n]=t;return e},this.removeWhitespace=function(e){return e.replace(/\s/g,"")},this.now=Date.now||function(){return(new Date).getTime()},this.once=function(e){var t;return function(){return e&&(t=e.apply(this,arguments),e=null),t}},this.debounce=function(t,n,i){var a,o,r,s,l,c=function(){var e=u.util.now()-s;e<n&&0<=e?a=setTimeout(c,n-e):(a=null,i||(l=t.apply(r,o),a||(r=o=null)))};return function(){r=this,o=arguments,s=u.util.now();var e=i&&!a;return a=a||setTimeout(c,n),e&&(l=t.apply(r,o),r=o=null),l}},this.VideoPoster=function(e){for(var t=e.length-1;0<=t;t--){var n=$(e[t]),i=n.find("video").attr("poster");n.css("background-image","url("+i+")")}},this.getYouTubeIdFromUrl=function(e){var t=e.match(n);if(t&&11==t[2].length)return t[2]},this.$sortElements=function(e,t){var n=document.createDocumentFragment(),i=e[0].parentNode;e.sort(t);for(var a=0;a<e.length;a++)n.appendChild(e[a]);i.appendChild(n)},this.getNormalizedWindowScrollTop=function(e){return Math.max(e.scrollTop(),0)},this.fullscreen=function(){var e=document.fullscreenElement&&null!==document.fullscreenElement||document.webkitFullscreenElement&&null!==document.webkitFullscreenElement||document.mozFullScreenElement&&null!==document.mozFullScreenElement||document.msFullscreenElement&&null!==document.msFullscreenElement,t=document.documentElement;e?fullscreenExit():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen?t.msRequestFullscreen():t.requestFullscreen&&t.requestFullscreen()},this.fullscreenExit=function(){document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():document.exitFullscreen&&document.exitFullscreen()}}}),u.util}(this),window.overwatch=window.overwatch||{},window.overwatch.BuyMediator=function(){var r={},i=null,a=null,o=null,s=null,l=null;function t(e,t,n){n=n||this,(r[e]=r[e]||[]).push({context:n,callback:t})}return{init:function(e){i=e.Sku,a=e.Country,o=e.Platform,s=e.PrimaryRetailer,l=e.SecondaryRetailer,t(i.eventNameChange,function(e){o.updateList(e.id);var t=o.getCurrent(),n=a.getCurrent();s.setCurrentRetailerByPlatformAndSkuIdAndCountryCode(t,e.id,n),l.setCurrentRetailersByCountryCodeAndSkuIdAndPlatform(n,e.id,t)}),t(a.eventNameChange,function(e){i.updateList(e)}),t(o.eventNameChange,function(e){var t=i.getCurrent(),n=a.getCurrent();s.setCurrentRetailerByPlatformAndSkuIdAndCountryCode(e,t.id,n),l.setCurrentRetailersByCountryCodeAndSkuIdAndPlatform(n,t.id,e)}),t(s.eventNameChange,function(e){}),t(l.eventNameChange,function(e){})},on:t,publish:function(e){for(var t=r[e]||[],n=Array.prototype.slice.call(arguments,1),i=0;i<t.length;i++){var a=t[i],o=a.context;a.callback.apply(o,n)}}}}(window.overwatch),window.overwatch=window.overwatch||{},window.overwatch.CountryModel={Mediator:null,eventNameChange:null,current:null,$doc:$(document),init:function(e){this.Mediator=e.Mediator,this.eventNameChange=e.eventNameChange,this.current=e.current},getCurrent:function(){return this.current},setCurrent:function(e){this.current=e,this._publish()},_publish:function(){this.Mediator.publish(this.eventNameChange,this.current)}},function(l,c,u){overwatch.buy=overwatch.buy||{},overwatch.buy.navigation=overwatch.buy.navigation||{},overwatch.buy.navigation.init=function(){var n=u(".edition-select"),i=n.children(".active"),a=i.children(".active-splash"),o=l.overwatch.BuyMediator,t=l.overwatch.util;function r(){var e=t.width();return 2560<e?(e-2560)/2:0}function s(e){var e=e||{duration:0},t=i[0].getBoundingClientRect();a.velocity({left:t.left-r(),width:i[0].clientWidth},e)}void 0!==a[0]&&u(c).on("ready",function(e){var t=a[0].getBoundingClientRect();a.velocity({left:t.left-r(),width:a[0].clientWidth},{duration:0,complete:function(){a=a.appendTo(n.parent())}}),o.on("ow.sku.change",function(e){i=n.find("[data-sku-change='"+e.id+"']"),s({duration:200,easing:"easeOutQuad"})}),u(l).on("resize",function(){s()}),u(c).on("ow.buy.form.show ow.buy.form.hide",function(){s()})})}}(window,window.document,window.jQuery),window.overwatch=window.overwatch||{},window.overwatch.PlatformModel={Mediator:null,eventNameChange:null,defaultList:null,currentList:null,current:null,defaultPlatform:null,$doc:$(document),platformExceptions:null,init:function(e){this.Mediator=e.Mediator,this.eventNameChange=e.eventNameChange,this.defaultList=e.defaultPlatformList,this.currentList=this.defaultList,this.current=e.current,this.defaultPlatform=e.defaultPlatform,this.platformExceptions=e.platformExceptions},updateList:function(e){var t=this.platformExceptions[e];this.currentList=t?this.defaultList.filter(function(e){return-1===t.indexOf(e)}):this.defaultList,-1===this.currentList.indexOf(this.current)&&this.setCurrent(this.defaultPlatform)},getList:function(){return this.currentList},getUnavailableList:function(){var t=this.currentList;return this.defaultList.filter(function(e){return-1===t.indexOf(e)})},getCurrent:function(){return this.current},setCurrent:function(e){this.current=e,this._publish()},_publish:function(){this.Mediator.publish(this.eventNameChange,this.current)}},window.overwatch=window.overwatch||{},window.overwatch.PrimaryRetailerModel={Mediator:null,eventNameChange:null,retailerMap:null,currentRetailer:null,platformMap:null,$doc:$(document),init:function(e){this.eventNameChange=e.eventNameChange,this.retailerMap=e.retailerMap,this.currentRetailer=e.currentRetailer,this.platformMap=e.platformMap,this.Mediator=e.Mediator},getCurrentRetailer:function(){return this.currentRetailer},setCurrentRetailerByPlatformAndSkuIdAndCountryCode:function(e,t,n){var i=null,a=this.platformMap[e].shopName||this.platformMap[e].name,o=this.retailerMap[e]||{},r=this._getRetailerUrl(o,t,n);r&&(i={name:a,platform:o.platform,href:r}),this.setCurrentRetailer(i)},setCurrentRetailer:function(e){this.currentRetailer=e,this._publish()},_getRetailerUrl:function(e,t,n){var i=null;return"ORIGINS"===t&&e.countryLinkOrigins&&e.countryLinkOrigins[n]?i=e.countryLinkOrigins[n]:"BASIC"===t&&e.countryLinkBasic&&e.countryLinkBasic[n]?i=e.countryLinkBasic[n]:"COLLECTORS"===t&&e.countryLinkCollectors&&e.countryLinkCollectors[n]?i=e.countryLinkCollectors[n]:e.skuLinks&&(i=e.skuLinks[t]),i},_publish:function(){this.Mediator.publish(this.eventNameChange,this.currentRetailer)}},window.overwatch.SecondaryRetailerModel={Mediator:null,eventNameChange:null,retailerMap:null,currentRetailers:null,$doc:$(document),init:function(e){this.Mediator=e.Mediator,this.eventNameChange=e.eventNameChange,this.retailerMap=e.retailerMap,this.currentRetailers=e.currentRetailers||[]},getCurrentRetailers:function(){return this.currentRetailers},setCurrentRetailersByCountryCodeAndSkuIdAndPlatform:function(e,t,n){var i=this.retailerMap[e]||[];0===(i=i.filter(function(e){return null===e.platform||e.platform===n}).filter(function(e){return void 0!==e.skuLinks[t]}).map(function(e){return{name:e.name,href:e.skuLinks[t]}})).length&&(i=null),this.setCurrentRetailers(i)},setCurrentRetailers:function(e){this.currentRetailers=e,this._publish()},_publish:function(){this.Mediator.publish(this.eventNameChange,this.currentRetailers)}},function(l,e,c,u){overwatch.buy=overwatch.buy||{},overwatch.buy.scroll=overwatch.buy.scroll||{},overwatch.buy.scroll.init=function(){var a=c(e),o=c(".learn-more-tip-container"),r=!1,s=0;a.on("ready",function(e){var t=1;function n(){t=0,a.off("scroll.learnmore"),o.velocity("fadeOut",{duration:200,easing:"easeOutQuart",complete:function(){o.detach()}})}r=c(".detail.active"),s=r.offset().top,o.on("click",function(e){e.preventDefault(),t&&(r=c(".detail.active"),s=r.offset().top,r.velocity("scroll",{duration:200,easing:"easeOutQuart"}),n())});var i=u.debounce(function(e){s<=a.scrollTop()&&(n(),c(l).off("scroll",i))},100);0<o.length&&c(l).on("scroll",i)})}}(window,window.document,window.jQuery,window._),window.overwatch=window.overwatch||{},window.overwatch.SkuModel={Mediator:null,eventNameChange:null,countrySkuMap:null,currentList:null,current:null,currentIndex:null,$doc:$(document),init:function(e){this.Mediator=e.Mediator,this.eventNameChange=e.eventNameChange,this.countrySkuMap=e.countrySkuMap,this.currentList=e.currentList,this.setCurrentById(e.defaultId)},getCurrent:function(){return this.current},getPrevious:function(){var e=this._mod(this.currentIndex-1,this.currentList.length);return this.currentList[e]},getNext:function(){var e=this._mod(this.currentIndex+1,this.currentList.length);return this.currentList[e]},getCurrentById:function(e){for(var t=this.currentList.length-1;0<=t;t--){var n=this.currentList[t];if(n.id===e)return n}console.error(e+" SKU not found.")},setCurrent:function(e){this.current=e,this.currentIndex=this.currentList.indexOf(e),this._publish()},setCurrentById:function(e){var t=this.getCurrentById(e);this.setCurrent(t)},updateList:function(e){this.currentList=this.countrySkuMap[e],this.setCurrentById(this.current.id)},_publish:function(){this.Mediator.publish(this.eventNameChange,this.current)},_mod:function(e,t){return(e%t+t)%t}},function(a,o){a.overwatch.OriginsTrailers={init:function(e){var n={rel:0,autoplay:0,autohide:1,controls:1,modestbranding:1,showinfo:0,version:3,enablejsapi:1,wmode:"opaque"},i=e.$videoTrailer;a.overwatch.util,a.onYouTubeIframeAPIReady=function(){var e,t;e=i.data("ytId"),t=o("<div/>").appendTo(i),new a.YT.Player(t[0],{videoId:e,playerVars:n,events:{onReady:function(e){i.on("click",function(){e.target.playVideo(),i.toggleClass("active",!0)})}}}),i.on("click",function(e){e.preventDefault(),i.toggleClass("active",!0)})}}}}(window,(window.document,window.jQuery)),function(e){var t,r;t=e.app,r=[],t.extend({declarativeMutationObserver:{init:function(){document.querySelectorAll("[data-observation-target-selector]").forEach(function(i,e){var t=i.dataset.observationTargetSelector,a=i.dataset.observationTargetClass,o=i.dataset.observationToggleClass;document.querySelectorAll(t).forEach(function(e,t){var n=new MutationObserver(function(e){e.forEach(function(e){e.target.classList.contains(a)?i.classList.add(o):i.classList.remove(o)})});n.observe(e,{attributes:!0,attributeFilter:["class"]}),r.push(n)})})},disconnectAllObservers:function(){for(;0<r.length;)r.pop().disconnect()}}}),t.declarativeMutationObserver}(this),function(t,e){var n={targetElements:'[data-fadein="true"]',fadeInClass:"fadein-animation",win:$(t),init:function(){this.elements=$(this.targetElements),this.total=this.elements.length,this.visible=0,this.elements.addClass(this.fadeInClass),this.triggerFadeInOnVisibleElements(),this.setupEvents();var e=this;setTimeout(function(){e.triggerFadeInOnVisibleElements()},0)},setupEvents:function(){var e=this;$(t).on("scroll.fadein",_.throttle(function(){e.triggerFadeInOnVisibleElements()},100))},triggerFadeInOnVisibleElements:function(){this.elements.each(function(){var e=$(this);e.hasClass("is-visible")||$.isViewable(e,{percentH:.25})&&(e.addClass("is-visible"),self.visible++)}),this.visible>=this.total&&$(t).off("scroll.fadein")}};e.Fadein=n}(window,window.app,window.overwatch),function(e,t){var n=t.util,i=null,a=$("[hero-scene]"),o=a.find("#hero-scene"),r={scalarX:1,scalarY:1,frictionX:1,frictionY:1};e.extend({heroScene:{init:function(){a.on("mouseenter",function(){i?i.enable():!n.mobile()&&!n.touch()&&768<=n.width()&&(i=t.parallax=new Parallax(o[0],r))}),a.on("mouseleave",function(){i&&i.disable()}),t.extend({parallax:i})}}})}(this.app,this.overwatch),function(e,m){var g={init:function(e){var u=e.$section,d=e.$overlay,h=e.$overlayText,v=e.$overlayTextBorder,p=e.$overlayWrap,t=e.$selectionWrap,f=e.classLoaded;t.on("mouseenter",".selection-link",function(e){var t,n,i,a,o=$(this),r=o.data("hero-slug"),s=o.data("hero-role"),l=o.data("hero-role-id"),c=o.data("hero-overlay");"undefined"==r||m.util.mobile()||(u.addClass("overlay-ready"),d.attr("style",""),p.addClass("loading"),g.currentHero=r,t=c,n=r,i=function(e,t){g.currentHero==t&&(p.removeClass("loading"),d.attr("style","background-image:url("+e+")"))},a=new Image,$(a).load(function(){i&&i(a.src,n)}),a.src=t,u.addClass(f),h.find("h2").html(r),h.find("i").attr("class","icon role-"+l),h.find("p").text(s),h.addClass(f),v.addClass(f))}),t.on("mouseleave",".selection-link",function(){u.removeClass(f),h.removeClass(f),v.removeClass(f),p.removeClass("loading")}),$(".selection-item.is-highlighted").each(function(e,t){var i=$(t);i.find(".selection-link").each(function(e,t){var n=i;$(t).on("mouseenter",function(e){n.removeClass("is-highlighted"),$(this).off("mouseenter")})})})}};e.HeroSelect=g}(window,window.overwatch),function(){var i=function(){return this}(),e=i.app,r=(i.overwatch,'[data-js="horizontal-accordion-icon"]'),s='[data-js="horizontal-accordion-image"]',a='[data-js="horizontal-accordion-content"]',t={hoverTimer:null,isHovering:!1,activeItem:null,init:function(e){var t=this,n=t.$columns=$('[data-js="horizontal-accordion-column"]',e);n.delayedHover(t.hoverColumn,t.hoverColumn,{timeout:100,self:t}).each(function(e){$(this).data("js-index",e)}),t.previousColumnIndex=0,t.toggleViewable(n),$(i).on("scroll.accordion",function(){n.eq(0).hasClass("is-viewable")&&$(i).off("scroll.accordion"),t.toggleViewable(n)})},toggleViewable:function(e){e.each(function(){var e=$(this);e.toggleClass("is-viewable",$.isViewable(e))})},hoverColumn:function(e){var t=e.data.self,n="delayedEnter"===e.type,i=$(this),a=$(r,i),o=$(s,i);i.hasClass("is-open")||(i.toggleClass("is-hover",n),a.toggleClass("is-hover",n),o.toggleClass("is-hover",n),(t.isHovering=n)&&t.prepareToOpenColumn(i))},prepareToOpenColumn:function(e){var t=this;clearTimeout(this.hoverTimer),this.hoverTimer=setTimeout(function(){t.isHovering&&t.openColumn(e)},400)},openColumn:function(e){var t=$(a,e);this.closeAllColumns(),this.previousColumnIndex=e.data("js-index"),e.toggleClass("is-open",!0),t.toggleClass("is-visible",!0)},closeAllColumns:function(){this.$columns.each(function(){var e=$(this),t=$(r,e),n=$(s,e),i=$(a,e);e.toggleClass("is-open",!1),i.toggleClass("is-visible",!1),t.toggleClass("is-hover",!1),n.toggleClass("is-hover",!1)})}};e.horizontalAccordion=t}(),function(e,t){var n,i,a,o=t.util,r={particles:{number:{value:25,density:{enable:!0,value_area:800}},color:{value:"#fff"},shape:{type:"image",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:e.messages.img.dva,width:285,height:298}},opacity:{value:.5,random:!0,anim:{enable:!0,speed:1,opacity_min:.1,sync:!1}},size:{value:50,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!1,distance:100,color:"#ffffff",opacity:.4,width:2},move:{enable:!0,speed:1,direction:"bottom",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"bubble"},onclick:{enable:!1,mode:"repulse"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:.5}},bubble:{distance:400,size:4,duration:.3,opacity:1,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0};n=[],i=$(e.document),a=$("body"),i.on("keydown",function(e){n.push(e.keyCode),0<=n.toString().indexOf("38,38,40,40,37,39,37,39,66,65")&&(a.addClass("konami"),i.off("keydown",arguments.callee),i.trigger("konami"))}),i.one("konami",function(){!o.mobile()&&!o.touch()&&768<o.width()&&(a.append('<div class="egg" id="egg-particles">'),particlesJS("egg-particles",r),new Audio(e.clientVars.codeFile).play())})}(this,(this.app,this.overwatch)),function(){var n={section:null,navItem:null,mapPanel:null,mapList:null,mapItem:null,init:function(){function e(){n.scrollTo(window.location.hash.slice(1))}n.section=$(".map.section"),n.controls=$(".map-controls"),n.navItem=$(".map-nav-item"),n.navItemDesc=$(".map-nav-description"),n.mapItem=$(".map"),n.getMap(),n.navItem.on("click",function(){var e=$(this).attr("data-map-type"),t=$(".map-info[data-map-type='"+e+"']").find(".map-list").find(".map-name").first().attr("data-map");n.updatePanel(e,t)}),n.mapItem.on("click",function(){n.updatePanel($(this).closest(".map-info").attr("data-map-type"),$(this).attr("data-map"))}),setTimeout(e,500),$(window).on("hashchange",function(){e()}),$(window).on("popstate",function(){e()})},updatePanel:function(e,t){$(".map-nav-item").removeClass("active"),$(".map-nav-description").removeClass("active"),$(".map-info").removeClass("active"),$(".map-screen").removeClass("active"),$(".map-nav-item[data-map-type='"+e+"']").addClass("active"),$(".map-nav-description[data-map-type='"+e+"']").addClass("active"),$(".map-info[data-map-type='"+e+"']").addClass("active"),$(".map-name[data-map='"+t+"']").addClass("active"),$(".map-screen[data-map="+t+"]").addClass("active"),n.getMap()},getMap:function(){var e=$(".map-screen.active").attr("data-map"),t=$(".map-screen.active").attr("data-map-type");n.mapItem.removeClass("active"),$(".map-info[data-map-type='"+t+"']").find(".map[data-map='"+e+"']").addClass("active")},scrollTo:function(e){var t;!e||(t=n.mapItem.filter(["[data-map=",e,"]"].join("")))[0]&&$("html, body").animate({scrollTop:$("#objectives").offset().top},200,function(){t.click()})}};window.Maps=n}((window,window.overwatch)),function(n,i){var a,o;function e(t,e){var n=r(e);n&&n.addListener(function(e){if(e.matches)return t()})}function t(t,e){var n=r(e);n&&n.addListener(function(e){if(!e.matches)return t()})}function r(e){if(!n.matchMedia)return null;var t,e=e||o.defaultMediaQuery;return e=i.util.removeWhitespace(e),a[e]||(t=e,t=i.util.removeWhitespace(t),a[t]=n.matchMedia(t))}n.MediaQuery=(a={},o={defaultMediaQuery:"(max-width: 760px)"},{supported:"function"==typeof n.matchMedia,config:o,onOrientationChange:function(e){n.addEventListener("orientationchange",e)},onMatch:e,onUnmatch:t,onMobile:e,onDesktop:t,getMql:r})}(window,window.overwatch,window.Utilities),function(e){var t={init:function(e){this.triggerHover()},triggerHover:function(){$(".wallpaper-list .media-wrap").on("touchend",function(e){$(this).addClass("hovered")})}};e.Media=t}(window,window.overwatch),function(){var e=function(){return this}(),o=(e.document,e.app,e.overwatch),a=e.$,r=e._,s=a(e);a.fn.verticalParallax=function(e,t,n){var i,a;o.util.mobile()||o.util.touch()||(void 0!==e&&"number"==typeof e||console.error("Error in $.fn.verticalParallax. Invalid value in parameter [ratio]. You must define a numeric rate at which you want the element to parallax, ex: .5"),n="number"==typeof n?n:5,i=this,a=e*(t=1===t||-1===t?t:1),s.on("scroll",r.throttle(function(){i.css({transform:"translateY("+Math.max(s.scrollTop(),0)*a*t+"px)"})},n)))},a('[data-js-parallax="true"]').each(function(){var e,t,n=a(this),i=parseFloat(n.data("parallaxRatio"));"number"==typeof i&&(e=parseInt(n.data("parallaxDirection"),10),t=parseInt(n.data("parallaxThrottle"),10),e=Number.isNaN(e)?null:e,t=Number.isNaN(t)?null:t,n.verticalParallax(i,e,t))})}(),function(e){var t,s;t=e.app,s=1/29.97,t.extend({videoCustomLoop:{init:function(){function r(e,t){t=parseFloat(t),Number.isNaN(t)?console.error("VideoCustomLoop: timecode must be a number"):e.addEventListener("ended",function(){e.currentTime=parseFloat(t),e.play()})}$("video[data-loop-frame], video[data-loop-timecode]").each(function(e,t){var n,i,a=t.dataset.loopTimecode,o=t.dataset.loopFrame;void 0!==a?r(t,a):"undefined"!==o&&(n=t,i=o,i=parseInt(i,10),Number.isNaN(i)?console.error("VideoCustomLoop: frame must be an integer"):r(n,i*s))})}}}),t.videoCustomLoop}(this),function(e){function n(e){var t=function(e,t){var n=function(){e.play()};n=t.videoPlayInViewOnce?a.util.once(n):n;var i=-parseFloat(t.videoPlayInViewTopOffsetRatio)*function(e){return $(e).parent().get(0).offsetHeight}(e);return{enterViewportHandler:n,top:i}}(e,$(e).data()),n=i.create(e,t);return n.enterViewport(t.enterViewportHandler),n}var a,i;a=e.app,i=e.scrollMonitor,a.extend({videoPlayInView:{init:function(){$("video[data-video-play-in-view]").each(function(e,t){n(t)})},createVideoMonitor:n}}),a.videoPlayInView}(this),function(n,e){var i={height:"100%",width:"100%",playerVars:{rel:0,modestbranding:1,autohide:1,color:"white"}},a=function(e,t){return new YT.Player(e,{videoId:t,height:i.height,width:i.width,playerVars:i.playerVars})},o=function(e){var t;"function"==typeof n.onYouTubeIframeAPIReady?(t=n.onYouTubeIframeAPIReady,n.onYouTubeIframeAPIReady=function(){t(),e()}):n.onYouTubeIframeAPIReady=e};e.extend({youtubeIframePlayerEmbedder:{getPlayer:function(t,n){return new Promise(function(e){"undefined"==typeof YT||void 0===YT.Player?o(function(){e(a(t,n))}):e(a(t,n))})}}}),e.youtubeIframePlayerEmbedder}(window,window.app),function(a,i){function o(e){var n=e.$target,t=e.$placeholder,i=e.youtubeId;a.youtubeIframePlayerEmbedder.getPlayer(t.get(0),i).then(function(t){n.one("click",function(e){e.preventDefault(),t.addEventListener("onReady",function(){t.playVideo()})}),t.addEventListener("onReady",function(){n.on("click",function(e){e.preventDefault(),t.playVideo()})}),t.addEventListener("onStateChange",function(e){switch(e.data){case YT.PlayerState.PLAYING:case YT.PlayerState.BUFFERING:n.addClass("is-active");break;case YT.PlayerState.ENDED:n.removeClass("is-active"),a.util.fullscreenExit()}})})}var e="[data-js-youtube-player]",r=".youtubePlayer-placeholder";a.extend({youtubePlayer:{embed:o,init:function(){$target=i(e),$target.each(function(e,t){var n=i(t);$placeholder=n.find(r),o({youtubeId:n.data("yt-id"),$target:n,$placeholder:$placeholder})})}}})}((window,window.app),window.jQuery),function(e){$(".News-loadMore a").click(function(){t++,$.get("/"+e.blizzard.urlLocale+"/news/next-posts",{page:t}).then(function(e){if($(".NewsList .NewsList-list").append(e.content),e.totalPages==e.page)return $(".News-loadMore").hide(),!1})});var t=2}(window,(window.app,window.overwatch)),function(s,e,t,l){var n={currentComparisonKey:0,modes:["quickplay","competitive"],sections:["highlights","heroComparison","stats"],init:function(){this.setupDropdowns(),this.setupHeroListToggle(),this.setupProfileModes(),t.tooltip.init(),t.notification.init(),t.endorsementIcon.init()},setupDropdowns:function(){var r=this,e=l("[data-js=career-select]");e.each(function(){l(this).prop("selectedIndex",0)}),e.on("change",function(e){var t,n=l(this),i=n.val(),a=n.data("groupId"),o=null;(o="achievements"===a?l('.toggle-display[data-group-id="'+a+'"]'):l('.toggle-display[data-group-id="'+a+'"]',l("#"+r.currentMode))).removeClass("is-active"),o.filter('[data-category-id="'+i+'"]').addClass("is-active"),"stats"===a&&r.initializeStatsMasonry(),t=n.children("option").filter(":selected").attr("option-id"),s.dataLayer&&s.dataLayer.push({"career.mode":r.currentMode,"career.group":a,"career.option":t,event:"careerDropdown"})}),e.dropdown()},setupHeroListToggle:function(){l(".js-show-more-heroes").on("click",function(){var e,t=l(this),n=t.siblings(".progress-category");t.data("showMore")?(n.removeClass("is-partial"),t.data("showMore",!1)):(n.addClass("is-partial"),t.data("showMore",!0)),e=t.text(),t.text(t.data("label")),t.data("label",e),l(this).blur()})},setupProfileModes:function(){var n=this,i=l("#profile-btn-switcher a"),e=l('[data-js="heroMastheadImage"]');this.$modes=l();for(var t=0,a=this.modes.length;t<a;t++)this.$modes=this.$modes.add(l("#"+this.modes[t]));function o(){n.$modes.hide(),l("#"+n.currentMode).show(),e.removeClass(n.previousMode),e.addClass(n.currentMode),n.initializeStatsMasonry()}l(document.body).on("mode-change",function(e){o(),s.dataLayer&&s.dataLayer.push({"career.mode":n.currentMode,event:"careerTabSwitch"})}),this.currentMode=this.modes[0],this.previousMode=this.modes[0],o(),i.on("click",function(e){var t=l(this);return i.removeClass("is-active"),t.addClass("is-active"),n.previousMode=n.currentMode,n.currentMode=t.data("mode"),l(document.body).trigger("mode-change"),!1})},initializeStatsMasonry:function(){l(".js-stats:visible").masonry({itemSelector:".column"})}};e.extend({career:n})}(window,window.app,window.overwatch,window.jQuery,window._),function(t,e){var n={init:function(){this.setupVideoAnalytics(),t.overwatch.slideout.init(),t.overwatch.slideout.openSlideout("openDivision"),t.app.horizontalAccordion.init($('[data-id="esports-pathtopro-accordion"]'))},setupVideoAnalytics:function(){$("[data-js-youtube-player]").on("click",function(){var e=$(this).data("yt-id");t.dataLayer&&t.dataLayer.push({event:"videoClick",videoID:e,dataAnalyticsPlacement:"esports-trailer"})})}};e.extend({esports:n})}(window,window.app,window.overwatch),function(t,e){function n(e){return t.matchMedia("(min-width: "+e+")").matches}var i={init:function(){n("640px");$('[data-js="change-region"]').on("change",function(){var e=$(this).val();$(".js-region-block").addClass("is-hidden"),$(".js-region-block-"+e).removeClass("is-hidden")}),$(t).on("resize",function(){n("640px")})}};e.extend({open:i})}(window,window.app,window.overwatch),function(e){e.events=e.events||{},e.events.anniversary={init:function(){this.setupGameModeCards(),this.initSmoothScroll()},setupGameModeCards:function(){$('[data-js="game-mode-card"]').hide(),$('[data-js="game-mode-select"]').on("click",function(e){var t=$(this).data("gameModeId");$('[data-js="game-modes-index"]').hide(),$('[data-js="game-mode-card"]').hide(),$('[data-js="game-mode-card"][data-id='+t+"]").show().get(0).scrollIntoView({behavior:"smooth"})}),$('[data-js="game-modes-back"]').on("click",function(e){$('[data-js="game-mode-card"]').hide(),$('[data-js="game-modes-index"]').show().get(0).scrollIntoView({behavior:"smooth"})})},initSmoothScroll:function(){$('a[href*="#unlocks"]').on("click",function(e){e.preventDefault(),$("html, body").animate({scrollTop:$($(this).attr("href")).offset().top},500,"linear")})}}}(this.app),function(e){e.events=e.events||{},e.events.archives=e.events.archives||{},e.events.archives={init:function(){this.defineProps(),this.setupOverviewParallax(),this.initSmoothScroll()},defineProps:function(){this.$eventLogoContainer=$('[data-js="event-logo"]'),this.$eventOverviewBackgroundImage=$('[data-js="event-overview-background-image"]'),this.$eventOverviewForegroundImage=$('[data-js="event-overview-foreground-image"]'),this.$eventOverviewPlayIcon=$('[data-js="overview-play-button"]')},setupOverviewParallax:function(){this.$eventLogoContainer.verticalParallax(.25),this.$eventOverviewBackgroundImage.verticalParallax(.9),this.$eventOverviewForegroundImage.verticalParallax(.7),this.$eventOverviewPlayIcon.verticalParallax(.5)},initSmoothScroll:function(){$('a[href*="#unlocks"]').on("click",function(e){e.preventDefault(),$("html, body").animate({scrollTop:$($(this).attr("href")).offset().top},500,"linear")})}}}(this.app),function(e){e.events=e.events||{},e.events.halloweenTerror=e.events.halloweenTerror||{},e.events.halloweenTerror={init:function(){this.defineProps(),this.setupOverviewParallax()},defineProps:function(){this.$eventLogoContainer=$('[data-js="event-logo"]'),this.$eventOverviewForegroundImageLeft=$('[data-js="event-overview-foreground-image-left"]'),this.$eventOverviewForegroundImageRight=$('[data-js="event-overview-foreground-image-right"]'),this.$eventOverviewPlayIcon=$('[data-js="overview-play-button"]')},setupOverviewParallax:function(){this.$eventLogoContainer.verticalParallax(.25),this.$eventOverviewForegroundImageLeft.verticalParallax(.4),this.$eventOverviewForegroundImageRight.verticalParallax(.6),this.$eventOverviewPlayIcon.verticalParallax(.5)}}}(this.app),function(e){e.events=e.events||{},e.events.lunarnewyear=e.events.lunarnewyear||{},e.events.lunarnewyear={init:function(){this.defineProps(),this.setupOverviewParallax()},defineProps:function(){this.$eventLogoContainer=$('[data-js="event-logo"]'),this.$eventOverviewBackgroundImage=$('[data-js="event-overview-background-image"]'),this.$eventOverviewForegroundImageLeft=$('[data-js="event-overview-foreground-image-left"]'),this.$eventOverviewForegroundImageRight=$('[data-js="event-overview-foreground-image-right"]'),this.$eventOverviewPlayIcon=$('[data-js="overview-play-button"]')},setupOverviewParallax:function(){this.$eventLogoContainer.verticalParallax(.25),this.$eventOverviewBackgroundImage.verticalParallax(.9),this.$eventOverviewForegroundImageLeft.verticalParallax(.8),this.$eventOverviewForegroundImageRight.verticalParallax(.7),this.$eventOverviewPlayIcon.verticalParallax(.5)}}}(this.app),function(e){e.events=e.events||{},e.events.summergames=e.events.summergames||{},e.events.summergames={init:function(){this.defineProps(),this.initSmoothScroll()},defineProps:function(){this.$eventLogoContainer=$('[data-js="event-logo"]'),this.$eventOverviewForegroundImage=$('[data-js="event-overview-foreground-image"]')},initSmoothScroll:function(){$('a[href*="#unlocks"], a[href*="#weekly-challenges"]').on("click",function(e){e.preventDefault(),$("html, body").animate({scrollTop:$($(this).attr("href")).offset().top},500,"linear")})}}}(this.app),function(e){e.events=e.events||{},e.events.winterWonderland=e.events.winterWonderland||{},e.events.winterWonderland={init:function(){this.defineProps(),this.setupOverviewParallax()},defineProps:function(){this.$eventLogoContainer=$('[data-js="event-logo"]'),this.$eventOverviewBackgroundImage=$('[data-js="event-overview-background-image"]'),this.$eventOverviewForegroundImageLeft=$('[data-js="event-overview-foreground-image-left"]'),this.$eventOverviewForegroundImageRight=$('[data-js="event-overview-foreground-image-right"]'),this.$eventOverviewPlayIcon=$('[data-js="overview-play-button"]')},setupOverviewParallax:function(){this.$eventLogoContainer.verticalParallax(.25),this.$eventOverviewBackgroundImage.verticalParallax(.9),this.$eventOverviewForegroundImageLeft.verticalParallax(.8),this.$eventOverviewForegroundImageRight.verticalParallax(.7),this.$eventOverviewPlayIcon.verticalParallax(.5)}}}(this.app),function(e,i){i.events=i.events||{},i.events.base={unlocksRetrieved:{},parentEventId:null,eventId:null,platformId:null,init:function(){this.defineProps(),this.setupFadeIn(),this.setupUnlocks(),e.overwatch.EventMapCarousel.init(),this.setupMapsAnalytics(),this.markOwnedUnlocks()},defineProps:function(){this.$body=$(document.body),this.$window=$(window),this.$eventOverviewContainer=$('[data-js="event-overview"]'),this.$eventOverviewPlay=$('[data-js="event-overview-play"]'),this.frameHTML=document.getElementById("unlock-frame-template")?document.getElementById("unlock-frame-template").innerHTML:null,this.iconHTML=$("#event-icon-template").html()||"",this.loader=$('[data-js="unlocks-loader"]'),this.eventId&&(this.unlocksRetrieved[this.eventId]=!0)},setupFadeIn:function(){$(".media-card").each(function(){$(this).attr("data-fadein","true")}),i.Fadein.init()},setupUnlocks:function(){var o=this;$.get("/user/platforms",function(i){var a;i.platform?($("section#unlocks .event-unlock-user").removeClass("hide"),1<i.platforms.length&&($("#user-platforms").append('<div class="events-platform-selection button-group"></div>'),$(i.platforms).each(function(e,t){var n="button m-sm m-auto-width";t.platform===i.platform&&(n+=" is-active"),"summer-games"===clientVars.eventSlug||"anniversary"===clientVars.eventSlug?n+=" m-black-outline":n+=" m-white-outline",$("#user-platforms").children().first().append('<a class="'+n+'" data-js="unlock-platform-swap" data-platform-id="'+t.platform+'" data-event-slug='+clientVars.eventSlug+">"+t.platformName+"</a>")}),(a=$('[data-js="unlock-platform-swap"]')).on("click",function(e){var t=$(this),n=t.data("platformId");o.platformId=n,a.removeClass("is-active"),t.addClass("is-active"),o.markOwnedUnlocks()}))):$("section#unlocks .event-unlock-login").removeClass("hide")}).always(function(){o.setupUnlockGallery(o.unlockMedia)})},setupUnlockGallery:function(e){var t={};e&&(t[this.eventId+":skins"]=e.skins,t[this.eventId+":highlightIntros"]=e.highlightIntros,t[this.eventId+":emotes"]=e.emotes)},preselectUnlocks:function(){var e=window.localStorage.getItem("selectedEvent");e&&this.eventId!==e&&(this.eventId=e,this.updateUnlocksTab(this.eventId))},updateUnlocksTab:function(e){this.eventId=e,window.localStorage.setItem("selectedEvent",e),this.updateUnlocks()},updateUnlocks:function(){var e=this.eventId;e&&(this.unlocksRetrieved[e]?($('[data-js="unlocks"]').hide(),$("#event-unlocks--"+e).show()):this.getUnlocksByEvent(),this.updateEventIcon())},updateEventIcon:function(){var e=this.eventId;$('[data-js="event-icon"]').replaceWith(this.iconHTML.replace("{{eventId}}",e))},getUnlocksByEvent:function(){var t=this,n=this.eventId;this.loader.addClass("is-active"),$.get("/events/unlocks/"+n,function(e){$('[data-js="unlocks"]').hide(),$("#event-unlocks--"+n).html(e.unlockHtml).show(),i.media.addGallery($("#event-unlocks--"+n)),t.setupUnlockGallery(e.unlocks),t.unlocksRetrieved[n]=!0}).always(function(){t.loader.removeClass("is-active"),t.markOwnedUnlocks()})},markOwnedUnlocks:function(){var i=this,e=this.platformId,t=e?"/user/unlocks/"+e:"/user/unlocks/";this.loader.addClass("is-active"),$.get(t,function(n){$("[data-media-id]").each(function(){var e=$(this).data("mediaId"),t=-1!==n.indexOf(e);i.updateUnlockFrame(e,t)})}).always(function(){i.loader.removeClass("is-active")})},updateUnlockFrame:function(e,t){var n=$("#"+e);t?(n.addClass("frame frame--inset"),n.attr("data-owned","true")):(n.removeClass("frame frame--inset"),n.attr("data-owned","false"))},setupMapsAnalytics:function(){$('[data-js="event-map"]').each(function(){$(this).one("transitionend",function(){var e=$(this).data("eventAnalytics");e&&dataLayer.push({event:"dataEventMap",dataEventName:e})})})}}}(this,this.app),function(e){document.exitFullscreen=document.exitFullscreen||document.mozCancelFullscreen||document.webkitExitFullscreen||_.noop,e.Login={open:function(){e.location="?login"}},$(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange",function(){var e=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||null;$(document.body).toggleClass("is-fullscreen",e)}),e.svg4everybody({polyfill:!0}),app.videoCustomLoop.init(),app.videoPlayInView.init(),app.youtubePlayer.init()}(window,(window.overwatch,window.MainMenu)),function(c,e,o,u,r){var t={loadBackgroundVideo:function(){u(".video-background-wrapper .video-background-vid").load()}};t.loadTabs=function(){var e=c.location.hash.substr(1),i=u("#details"),a=i.find(".hero-detail-video"),o=i.find(".hero-detail-overview"),r=i.find(".hero-detail-background"),t=u("#details-tabs");$overviewContent=u("#overview"),$storyContent=u("#story");function s(e){"story"!==e&&"overview"!==e||(t.find(".tab").removeClass("is-active"),t.find(".tab[data-tab-name="+e+"]").addClass("is-active"),"overview"===e?($overviewContent.addClass("is-active"),$storyContent.removeClass("is-active")):($overviewContent.removeClass("is-active"),$storyContent.addClass("is-active")))}var l=this.hero;t.find(".tab").on("click",function(e){var t=u(e.target).closest(".tab").data().tabName,n=i.data().ptr;return s(t),"story"===t&&c.dataLayer&&c.dataLayer.push({event:"heroStoryTab",tab:{name:l}}),n||("story"===t?(a.removeClass("is-active"),o.removeClass("is-active"),r.addClass("is-active")):(a.addClass("is-active"),o.addClass("is-active"),r.removeClass("is-active"))),!1}),s(e)},t.loadShowcase=function(){var t=u(".ability-showcase"),n=new o.AbilityShowcase(".ability-showcase"),i=!1,a=!1,e=r.debounce(function(){var e=t.is(":visible");e&&!i?(n.init(),a=i=!0):e&&!a?(n.play(),a=!0):e||(n.stop(),a=!1)},250);u(c).on("resize",e),e()},t.init=function(e){this.hero=e,this.loadTabs(),this.loadShowcase(),this.loadBackgroundVideo()},e.extend({hero_details:t})}(window,window.app,window.overwatch,window.jQuery,window._),function(e,t){var n={init:function(){t.HeroSelector.init({$container:document.querySelector("#heroes-selector-container"),$navigationLinks:document.querySelectorAll("#hero-selector-navigation-selector .navigation-link"),itemSelector:"#heroes-selector-container .hero-portrait-detailed-container"});var e=location.href.substr(location.href.indexOf("#")+1).toUpperCase();-1!==["DAMAGE","TANK","SUPPORT"].indexOf(e)&&t.HeroSelector.filter(e)}};e.extend({heroes:n})}((window,window.app),window.overwatch),function(e,t){var n={},o=(t.util,"js-paused");n.registerSpotlight=function(e){new t.Spotlight(e)},n.init=function(){Array.prototype.forEach.call(document.querySelectorAll("[data-js=spotlight]"),this.registerSpotlight),document.querySelector("[data-bgControl]").addEventListener("click",function(e){e.preventDefault();var t=this,n=t.getAttribute("data-bgControl"),i=document.querySelectorAll(n),a=t.classList.contains(o);i.forEach(function(e){a?(e.play(),t.classList.remove(o)):(e.pause(),t.classList.add(o))})})},e.extend({home:n})}((window,window.app),window.overwatch,(window.jQuery,window._)),function(n,e,i){var t={},a=e.util;t.trailerSetup=function(){i('[data-js="video-lightbox"]').on("click",function(e){var t=i(this).data("yt-id");a.mobile()||a.touch()||(e.preventDefault(),n.helpers.loadVideoIntoFrame(t))})},t.init=function(){this.trailerSetup()},n.extend({mercyBCRFCharitySkin:t})}((window,window.app),window.overwatch,window.jQuery,window._),function(n,e,a,t){var o={searchResults:[],cacheElements:function(){this.$searchResultsArea=a(".search-results"),this.$searchResultsItemsArea=a("#search-result-items"),this.$searchUserMessages=a("#search-user-messages"),this.$searchResultsCountWrapper=a("#search-results-count-wrapper"),this.$searchResultsCount=a("#search-results-count"),this.$searchInitialMessage=a("#search-initial-message")},cacheTemplates:function(){this.searchResultItemTemplate=t.template(document.getElementById("search-result-item-template").innerHTML),this.generalErrorMessage=t.template(document.getElementById("search-result-fail-template").innerHTML)(),this.notFoundErrorMessage=t.template(document.getElementById("search-result-zero-template").innerHTML)(),this.platformNotFoundErrorMessage=t.template(document.getElementById("search-result-zero-platform-template").innerHTML)()},loadResults:function(e){var n=this,t="/"+clientVars.urlLocale+"/search/account-by-name/"+encodeURIComponent(e)+"/";n.searchResults=[],n.$searchUserMessages.hide(),n.$searchResultsItemsArea.hide(),a.ajax(t).done(function(e){e=e.map(n.transformResult.bind(n)),n.$searchResultsCountWrapper.show(),n.$searchResultsCount.text(e.length),n.searchResults=e,0!==n.searchResults.length?(n.generateResultHtml(n.searchResults),n.$searchResultsItemsArea.show(),n.$searchUserMessages.hide(),n.applyPlatformFilter()):(n.updateErrorMessage(n.notFoundErrorMessage),n.$searchResultsItemsArea.hide())}).fail(function(e,t){n.updateErrorMessage(n.generalErrorMessage)}).always(function(){n.$searchResultsArea.removeClass("is-loading"),n.$searchInitialMessage.hide()})},transformResult:function(e){var t;switch(e.platform){case"nintendo-switch":t=100;break;default:t=32}return e.svg_id=e.platform+"-icon",e.svg_width=t,e.avatar=this.avatars[e.portrait]?this.avatars[e.portrait].icon:this.avatars["0x02500000000002F7"].icon,e},generateResultHtml:function(e){var t="";for(i=0,len=e.length;i<len;i++)t+=this.searchResultItemTemplate(e[i]);this.$searchResultsItemsArea.html(t)},updateErrorMessage:function(e){e&&(this.$searchUserMessages.html(e),this.$searchUserMessages.show())},applyPlatformFilter:function(){var e,t=a("input[name=filter]:checked"),n=0;0===t.length?((e=a(".player-badge-wrapper",this.$searchResultsItemsArea)).show(),this.$searchResultsCount.text(e.length),this.$searchUserMessages.hide()):(this.$searchResultsItemsArea.children().hide(),t.each(function(){var e=a(this).val(),t=a(".player-badge-wrapper[data-platform="+e+"]",this.$searchResultsItemsArea);n+=t.length,t.show()}),0===n?this.updateErrorMessage(this.platformNotFoundErrorMessage):this.$searchUserMessages.hide(),this.$searchResultsCount.text(n))},sort:function(e){sortedResults=t.orderBy(this.searchResults,[e.field],[e.order]),this.generateResultHtml(sortedResults)},setupEvents:function(){var i=this;i.$searchInitialMessage.show(),i.$searchResultsCountWrapper.hide(),a("[data-js=player_search]").on("submit",function(e){e.preventDefault();var t=a(this).find("input[name=q]").val();i.$searchResultsArea.addClass("is-loading"),i.$searchInitialMessage.hide(),history.pushState(null,null,"/"+clientVars.urlLocale+"/search/?q="+t),i.loadResults(t)}),a("input[name=filter]").on("change",function(){0!==i.searchResults.length&&i.applyPlatformFilter()}),a('[data-js="sort-option"]').on("click",function(e){var t,n;e.preventDefault(),a(this).siblings('[data-js="sort-option"]').removeClass("is-selected"),a(this).addClass("is-selected"),0!==i.searchResults.length&&(n="level"===(t=a(this).data("sortOption"))?"desc":"asc",i.sort({field:t,order:n}),i.applyPlatformFilter())})},init:function(e){this.avatars=e,this.cacheElements(),this.cacheTemplates(),this.setupEvents();var t=n.location.search.substr(1).split("&").reduce(function(e,t){var n=t.split("="),i=n[0],a=n[1];return e[i]=a,e},{});t.hasOwnProperty("q")&&(a("input[name=q]").val(t.q),a("[data-js=player_search]").submit())}};e.extend({search:o})}(window,window.app,(window.overwatch,window.jQuery),window._);